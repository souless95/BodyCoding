<?xml version="1.0" encoding="UTF-8"?>

<!-- Mapper파일을 구성하기 위한 Doctype 설정 -->
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.bc.bodycoding.calendar.CalendarService">

<insert id="insertSchedule" parameterType="com.bc.bodycoding.calendar.CalendarDTO">
  <selectKey keyProperty="id" resultType="java.lang.String" order="BEFORE">
    select calendar_seq.nextval as id from dual
  </selectKey>
  insert into calendar (id, title, start1, end)
  values (#{id}, #{title}, #{start1}, #{end})
</insert>

<delete id="deleteSchedule"
	parameterType="com.bc.bodycoding.calendar.CalendarDTO">
	delete from calendar where id=#{id}
</delete>

<update id="updateSchedule"
	parameterType="com.bc.bodycoding.calendar.CalendarDTO">
	update calendar set start1=#{start1}, end=#{end} where id=#{id}
</update>

<update id="updateSchedule2"
	parameterType="com.bc.bodycoding.calendar.CalendarDTO">
	update calendar set end=#{end} where id=#{id}
</update>

<select id="loadCList"
	parameterType="com.bc.bodycoding.calendar.CalendarDTO"
	resultType="com.bc.bodycoding.calendar.CalendarDTO">
	select * from calendar
</select>

</mapper>